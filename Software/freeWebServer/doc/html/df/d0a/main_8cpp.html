<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Temperature control: src/main.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Temperature control
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Software documentation for the temperature control system on ESP32 cuzing a Triac BC138 and MAX6675. Implementing PID control with WEB interface and CSV temperature raport.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/d0a/main_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main file for the smart thermostat project. That implements FreeRTOS tasks for web server, temperature reading, display, and <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d0/d00/main_8hpp_source.html">main.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dce/main_8cpp__incl.png" border="0" usemap="#asrc_2main_8cpp" alt=""/></div>
<map name="asrc_2main_8cpp" id="asrc_2main_8cpp">
<area shape="rect" title="Main file for the smart thermostat project. That implements FreeRTOS tasks for web server,..." alt="" coords="915,5,1020,32"/>
<area shape="rect" href="../../d0/d00/main_8hpp.html" title=" " alt="" coords="926,80,1009,107"/>
<area shape="rect" title=" " alt="" coords="813,229,964,256"/>
<area shape="rect" title=" " alt="" coords="989,229,1106,256"/>
<area shape="rect" title=" " alt="" coords="1617,229,1701,256"/>
<area shape="rect" title=" " alt="" coords="5,229,68,256"/>
<area shape="rect" title=" " alt="" coords="92,229,195,256"/>
<area shape="rect" title=" " alt="" coords="819,155,918,181"/>
<area shape="rect" title=" " alt="" coords="943,155,992,181"/>
<area shape="rect" title=" " alt="" coords="1017,155,1094,181"/>
<area shape="rect" title=" " alt="" coords="1118,155,1201,181"/>
<area shape="rect" href="../../d4/db9/pid_8hpp.html" title=" " alt="" coords="1225,155,1296,181"/>
<area shape="rect" href="../../d4/dd5/WebServerManager_8hpp.html" title="Web server manager class definition." alt="" coords="383,155,559,181"/>
<area shape="rect" href="../../d6/d5e/screen_8hpp.html" title=" " alt="" coords="1321,155,1414,181"/>
<area shape="rect" href="../../dc/d32/temperature_8hpp.html" title=" " alt="" coords="1594,155,1725,181"/>
<area shape="rect" title=" " alt="" coords="560,229,655,256"/>
<area shape="rect" title=" " alt="" coords="679,229,789,256"/>
<area shape="rect" href="../../df/d7c/TemperatureData_8hpp.html" title=" " alt="" coords="219,229,382,256"/>
<area shape="rect" title=" " alt="" coords="407,229,536,256"/>
<area shape="rect" title=" " alt="" coords="1305,229,1360,256"/>
<area shape="rect" title=" " alt="" coords="1385,229,1449,256"/>
<area shape="rect" title=" " alt="" coords="1473,229,1593,256"/>
<area shape="rect" title=" " alt="" coords="1131,229,1281,256"/>
<area shape="rect" title=" " alt="" coords="1725,229,1860,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7c1cc02070c2f0e788f10a08e38ef57b"><td class="memItemLeft" align="right" valign="top">void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a7c1cc02070c2f0e788f10a08e38ef57b">zeroCrossISR</a> ()</td></tr>
<tr class="memdesc:a7c1cc02070c2f0e788f10a08e38ef57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR for detecting zero crossing.  <a href="../../df/d0a/main_8cpp.html#a7c1cc02070c2f0e788f10a08e38ef57b">More...</a><br /></td></tr>
<tr class="separator:a7c1cc02070c2f0e788f10a08e38ef57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup function to initialize tasks and resources.  <a href="../../df/d0a/main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">More...</a><br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main loop function.  <a href="../../df/d0a/main_8cpp.html#afe461d27b9c48d5921c00d521181f12f">More...</a><br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571ecf6f1d11b90c386e2c900a8867e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a571ecf6f1d11b90c386e2c900a8867e3">webServerTask</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a571ecf6f1d11b90c386e2c900a8867e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task for handling web server operations.  <a href="../../df/d0a/main_8cpp.html#a571ecf6f1d11b90c386e2c900a8867e3">More...</a><br /></td></tr>
<tr class="separator:a571ecf6f1d11b90c386e2c900a8867e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55d0909bfe96e544bb1324d9e0be983"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ac55d0909bfe96e544bb1324d9e0be983">displayTask</a> (void *pvParameters)</td></tr>
<tr class="memdesc:ac55d0909bfe96e544bb1324d9e0be983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task for handling display operations.  <a href="../../df/d0a/main_8cpp.html#ac55d0909bfe96e544bb1324d9e0be983">More...</a><br /></td></tr>
<tr class="separator:ac55d0909bfe96e544bb1324d9e0be983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c361e8ae7194173d6843a3b9a2fb73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a96c361e8ae7194173d6843a3b9a2fb73">temperatureTask</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a96c361e8ae7194173d6843a3b9a2fb73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task for reading temperature data.  <a href="../../df/d0a/main_8cpp.html#a96c361e8ae7194173d6843a3b9a2fb73">More...</a><br /></td></tr>
<tr class="separator:a96c361e8ae7194173d6843a3b9a2fb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19fbfc122dff7ef467f9cd7f84d99b1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a19fbfc122dff7ef467f9cd7f84d99b1d">pidTaskHandle</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a19fbfc122dff7ef467f9cd7f84d99b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task for <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control and triac management.  <a href="../../df/d0a/main_8cpp.html#a19fbfc122dff7ef467f9cd7f84d99b1d">More...</a><br /></td></tr>
<tr class="separator:a19fbfc122dff7ef467f9cd7f84d99b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a54f480b471d82539b01bcae0758ab8dc"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a54f480b471d82539b01bcae0758ab8dc">WebServerTaskHandle</a></td></tr>
<tr class="memdesc:a54f480b471d82539b01bcae0758ab8dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task handles for web server, temperature reading, display, and <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control.  <a href="../../df/d0a/main_8cpp.html#a54f480b471d82539b01bcae0758ab8dc">More...</a><br /></td></tr>
<tr class="separator:a54f480b471d82539b01bcae0758ab8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb12f43ef50ce0fba62be0aabdb1db3b"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#afb12f43ef50ce0fba62be0aabdb1db3b">TemperatureTaskHandle</a></td></tr>
<tr class="separator:afb12f43ef50ce0fba62be0aabdb1db3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad344a61fcea7cf007193183240616e80"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ad344a61fcea7cf007193183240616e80">DisplayTaskHandle</a></td></tr>
<tr class="separator:ad344a61fcea7cf007193183240616e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab112334482528ed6cc36eed18fb55302"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ab112334482528ed6cc36eed18fb55302">PIDTaskHandle</a></td></tr>
<tr class="separator:ab112334482528ed6cc36eed18fb55302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0997dd0c5c5eeef33bafa6b6a8d3381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d0d/structTemperatureData.html">TemperatureData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ac0997dd0c5c5eeef33bafa6b6a8d3381">currentTemperature</a></td></tr>
<tr class="memdesc:ac0997dd0c5c5eeef33bafa6b6a8d3381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current temperature data.  <a href="../../df/d0a/main_8cpp.html#ac0997dd0c5c5eeef33bafa6b6a8d3381">More...</a><br /></td></tr>
<tr class="separator:ac0997dd0c5c5eeef33bafa6b6a8d3381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70af3d89d266c81dca143d86e3d0461"><td class="memItemLeft" align="right" valign="top">SemaphoreHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ab70af3d89d266c81dca143d86e3d0461">temperatureMutex</a></td></tr>
<tr class="memdesc:ab70af3d89d266c81dca143d86e3d0461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore for temperature data access.  <a href="../../df/d0a/main_8cpp.html#ab70af3d89d266c81dca143d86e3d0461">More...</a><br /></td></tr>
<tr class="separator:ab70af3d89d266c81dca143d86e3d0461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7589c154ea6fa877b87954587b64d6e1"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a7589c154ea6fa877b87954587b64d6e1">zeroCross</a> = false</td></tr>
<tr class="memdesc:a7589c154ea6fa877b87954587b64d6e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for zero crossing detection.  <a href="../../df/d0a/main_8cpp.html#a7589c154ea6fa877b87954587b64d6e1">More...</a><br /></td></tr>
<tr class="separator:a7589c154ea6fa877b87954587b64d6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3938899050c4fc630f49bf4f89460f"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a8e3938899050c4fc630f49bf4f89460f">turnOffRequest</a> = false</td></tr>
<tr class="memdesc:a8e3938899050c4fc630f49bf4f89460f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for turning off <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> output.  <a href="../../df/d0a/main_8cpp.html#a8e3938899050c4fc630f49bf4f89460f">More...</a><br /></td></tr>
<tr class="separator:a8e3938899050c4fc630f49bf4f89460f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addfa3b9048160c42a165a633f18a91e2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#addfa3b9048160c42a165a633f18a91e2">kp</a> = 0.1</td></tr>
<tr class="memdesc:addfa3b9048160c42a165a633f18a91e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for the <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> controller.  <a href="../../df/d0a/main_8cpp.html#addfa3b9048160c42a165a633f18a91e2">More...</a><br /></td></tr>
<tr class="separator:addfa3b9048160c42a165a633f18a91e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62b41d33f3ebf3678cb18dbbd347f25"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ad62b41d33f3ebf3678cb18dbbd347f25">ki</a> = 0.5</td></tr>
<tr class="separator:ad62b41d33f3ebf3678cb18dbbd347f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a8d2942b887fdece9e89635990f8bb"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a67a8d2942b887fdece9e89635990f8bb">kd</a> = 0.1</td></tr>
<tr class="separator:a67a8d2942b887fdece9e89635990f8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main file for the smart thermostat project. That implements FreeRTOS tasks for web server, temperature reading, display, and <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control. </p>
<dl class="section author"><dt>Author</dt><dd>Creciune Catalin <a href="#" onclick="location.href='mai'+'lto:'+'cre'+'ci'+'une'+'lc'+'ata'+'li'+'n@g'+'ma'+'il.'+'co'+'m'; return false;">creci<span style="display: none;">.nosp@m.</span>unel<span style="display: none;">.nosp@m.</span>catal<span style="display: none;">.nosp@m.</span>in@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-02-21</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac55d0909bfe96e544bb1324d9e0be983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55d0909bfe96e544bb1324d9e0be983">&#9670;&nbsp;</a></span>displayTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task for handling display operations. </p>
<p>Display task definition.</p>
<p>This task manages the display, shows IP address, SSID, and temperature information, and logs information periodically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Parameters for the task (<a class="el" href="../../df/dc5/classScreen.html" title="A class to manage the OLED screen using Adafruit_SSD1306 library.">Screen</a> object).</td></tr>
  </table>
  </dd>
</dl>
<p>Task to display information on the screen.</p>
<p>This task initializes the screen and continuously updates it with the current WiFi status and temperature information. It handles both WiFi station and access point modes, displaying the IP address, SSID, and temperature readings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Pointer to the <a class="el" href="../../df/dc5/classScreen.html" title="A class to manage the OLED screen using Adafruit_SSD1306 library.">Screen</a> object to be used for display.</td></tr>
  </table>
  </dd>
</dl>
<p>The task performs the following actions:</p><ul>
<li>Initializes the screen.</li>
<li>Starts the serial communication.</li>
<li>Checks the WiFi connection status and displays the IP address and SSID if connected.</li>
<li>Displays temperature information including inside temperature, outside temperature, setpoint temperature, and the status of the start flag.</li>
<li>Handles client connections in access point mode and displays a message when a client is connected.</li>
<li>Logs the stack high water mark periodically for debugging purposes.</li>
</ul>
<p>The task runs indefinitely with a delay of 0.5 seconds between iterations. </p>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main loop function. </p>
<p>This function is intentionally left empty as tasks are handled by FreeRTOS. </p>

</div>
</div>
<a id="a19fbfc122dff7ef467f9cd7f84d99b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19fbfc122dff7ef467f9cd7f84d99b1d">&#9670;&nbsp;</a></span>pidTaskHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pidTaskHandle </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task for <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control and triac management. </p>
<p><a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> task definition.</p>
<p>This task handles the <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control for temperature regulation, manages the triac state based on zero crossing detection, and logs information periodically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Parameters for the task (not used). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup function to initialize tasks and resources. </p>
<p>This function creates a mutex for temperature data access and initializes tasks for web server, display, temperature reading, and <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control. </p>

</div>
</div>
<a id="a96c361e8ae7194173d6843a3b9a2fb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c361e8ae7194173d6843a3b9a2fb73">&#9670;&nbsp;</a></span>temperatureTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void temperatureTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task for reading temperature data. </p>
<p><a class="el" href="../../d4/d4f/classTemperature.html" title="A class to handle temperature readings from a K type thermocouple and an NTC thermistor.">Temperature</a> task definition.</p>
<p>This task reads inside and outside temperature data, updates the global temperature structure, and logs information periodically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Parameters for the task (not used). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a571ecf6f1d11b90c386e2c900a8867e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571ecf6f1d11b90c386e2c900a8867e3">&#9670;&nbsp;</a></span>webServerTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void webServerTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task for handling web server operations. </p>
<p>Web server task definition.</p>
<p>This task manages the web server, handles client requests, updates temperature data, and logs information periodically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Parameters for the task (not used). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c1cc02070c2f0e788f10a08e38ef57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c1cc02070c2f0e788f10a08e38ef57b">&#9670;&nbsp;</a></span>zeroCrossISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR zeroCrossISR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ISR for detecting zero crossing. </p>
<p>This ISR is triggered at each zero crossing of the AC signal. It sets the zeroCross flag to true, which is used by the <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> task to synchronize the triac control with the AC signal. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac0997dd0c5c5eeef33bafa6b6a8d3381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0997dd0c5c5eeef33bafa6b6a8d3381">&#9670;&nbsp;</a></span>currentTemperature</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d0d/structTemperatureData.html">TemperatureData</a> currentTemperature</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current temperature data. </p>

</div>
</div>
<a id="ad344a61fcea7cf007193183240616e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad344a61fcea7cf007193183240616e80">&#9670;&nbsp;</a></span>DisplayTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t DisplayTaskHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a67a8d2942b887fdece9e89635990f8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a8d2942b887fdece9e89635990f8bb">&#9670;&nbsp;</a></span>kd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID::kd = 0.1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Derivative gain. </p>

</div>
</div>
<a id="ad62b41d33f3ebf3678cb18dbbd347f25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62b41d33f3ebf3678cb18dbbd347f25">&#9670;&nbsp;</a></span>ki</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID::ki = 0.5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Integral gain. </p>

</div>
</div>
<a id="addfa3b9048160c42a165a633f18a91e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addfa3b9048160c42a165a633f18a91e2">&#9670;&nbsp;</a></span>kp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID::kp = 0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global variable for the <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> controller. </p>
<p>This variable is used to store the <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> controller object. and is accessed by the <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> task. also are modified by the web server task.</p>
<p>Proportional gain. </p>

</div>
</div>
<a id="ab112334482528ed6cc36eed18fb55302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab112334482528ed6cc36eed18fb55302">&#9670;&nbsp;</a></span>PIDTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t PIDTaskHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab70af3d89d266c81dca143d86e3d0461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70af3d89d266c81dca143d86e3d0461">&#9670;&nbsp;</a></span>temperatureMutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SemaphoreHandle_t temperatureMutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semaphore for temperature data access. </p>

</div>
</div>
<a id="afb12f43ef50ce0fba62be0aabdb1db3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb12f43ef50ce0fba62be0aabdb1db3b">&#9670;&nbsp;</a></span>TemperatureTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t TemperatureTaskHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e3938899050c4fc630f49bf4f89460f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3938899050c4fc630f49bf4f89460f">&#9670;&nbsp;</a></span>turnOffRequest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool turnOffRequest = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag for turning off <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> output. </p>

</div>
</div>
<a id="a54f480b471d82539b01bcae0758ab8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f480b471d82539b01bcae0758ab8dc">&#9670;&nbsp;</a></span>WebServerTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t WebServerTaskHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task handles for web server, temperature reading, display, and <a class="el" href="../../d8/da9/classPID.html" title="A class to implement a PID controller.">PID</a> control. </p>

</div>
</div>
<a id="a7589c154ea6fa877b87954587b64d6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7589c154ea6fa877b87954587b64d6e1">&#9670;&nbsp;</a></span>zeroCross</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool zeroCross = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag for zero crossing detection. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../df/d0a/main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated on Mon Feb 24 2025 22:30:24 for Temperature control by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
